# =============================================================================
# Ejemplo: application.yaml usando variables de entorno
# =============================================================================
# Este archivo NO se carga por Spring Boot. Sirve de referencia para ver cómo
# sustituir valores en src/main/resources/application.yaml por placeholders
# que lean de variables de entorno (o .env). Las variables están listadas en
# .env.example. Sintaxis: ${VAR_NAME} (obligatoria) o ${VAR_NAME:valor_default}.
# =============================================================================

server:
  port: ${SERVER_PORT:8080}

spring:
  application:
    name: mundo-catalogo-gateway
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}
  config:
    import: ${SPRING_CONFIG_IMPORT:optional:configserver:}

gateway:
  security:
    enabled: ${GATEWAY_SECURITY_ENABLED:true}
    secured-path-patterns: []
  required-headers:
    enabled: true
    headers:
      X-Request-Id: "^[a-zA-Z0-9\\-]{1,64}$"
      X-Client-Id: "^[a-zA-Z0-9_\\-.]{1,64}$"
      X-Tenant-Id: "^[a-zA-Z0-9_\\-]{1,64}$"
      Accept-Language: "^[a-z]{2}(-[A-Z]{2})?$"

management:
  endpoint:
    health:
      probes:
        enabled: true
  health:
    livenessstate:
      enabled: true
    readinessstate:
      enabled: true
  endpoints:
    web:
      exposure:
        include: health,info
  otlp:
    metrics:
      export:
        url: ${MANAGEMENT_OTLP_METRICS_EXPORT_URL:http://localhost:4318/v1/metrics}
  opentelemetry:
    tracing:
      export:
        otlp:
          endpoint: ${MANAGEMENT_OPENTELEMETRY_TRACING_EXPORT_OTLP_ENDPOINT:http://localhost:4318/v1/traces}
    logging:
      export:
        otlp:
          endpoint: ${MANAGEMENT_OPENTELEMETRY_LOGGING_EXPORT_OTLP_ENDPOINT:http://localhost:4318/v1/logs}
