# Perfil: producción (contenedor en K8s u otro orquestador).
# Activar: --spring.profiles.active=produccion
# Conectado a Config Server (optional: si no está, arranca con config local).
# Rutas: URI = nombre del Service en K8s (ej. catalog-api:8080) o según tu despliegue.
# Logging: solo consola (stdout) para que el orquestador capture los logs.

spring:
  cloud:
    gateway:
      server:
        webflux:
          routes:
            - id: catalog-api
              uri: http://catalog-api:8080
              predicates:
                - Path=/api/**
  config:
    import: optional:configserver:http://config-server:8888

logging:
  file:
    name: ""  # Solo consola en contenedor; logback no usa ROLLING en este perfil.

# Observabilidad: sobrescribir con las URLs del Collector/backend OTLP en tu entorno.
management:
  otlp:
    metrics:
      export:
        url: http://otel-collector:4318/v1/metrics
  opentelemetry:
    tracing:
      export:
        otlp:
          endpoint: http://otel-collector:4318/v1/traces
    logging:
      export:
        otlp:
          endpoint: http://otel-collector:4318/v1/logs
