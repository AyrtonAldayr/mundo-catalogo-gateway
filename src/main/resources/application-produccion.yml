# Perfil: producción (contenedor en K8s u otro orquestador).
# Activar: --spring.profiles.active=produccion
# Conectado a Config Server (optional: si no está, arranca con config local).
# Ajustar URI del Config Server y del backend según tu despliegue.
# Logging: sin archivo; solo consola (stdout) para que el orquestador capture los logs.

spring:
  cloud:
    gateway:
      server:
        webflux:
          routes:
            - id: catalog-api
              uri: http://localhost:8081
              predicates:
                - Path=/api/**
  config:
    import: optional:configserver:http://config-server:8888
server:
  port: 8080

logging:
  file:
    name: ""  # Solo consola en contenedor; logback no usa ROLLING en este perfil.

# Observabilidad: sobrescribir con las URLs del Collector/backend OTLP en tu entorno.
management:
  otlp:
    metrics:
      export:
        url: http://otel-collector:4318/v1/metrics
  opentelemetry:
    tracing:
      export:
        otlp:
          endpoint: http://otel-collector:4318/v1/traces
    logging:
      export:
        otlp:
          endpoint: http://otel-collector:4318/v1/logs
